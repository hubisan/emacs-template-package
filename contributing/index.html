<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Multiline desription for this package. Quite nice and so on. Multiline desription for this package."><link href=https://hubisan.github.io/emacs-template-package/contributing/ rel=canonical><meta name=author content="John Doe"><link rel="shortcut icon" href=../favicon.png><meta name=generator content="mkdocs-1.1.2, mkdocs-material-6.0.2"><title>Contributing - Package name</title><link rel=stylesheet href=../assets/stylesheets/main.38780c08.min.css><link rel=stylesheet href=../assets/stylesheets/palette.3f72e892.min.css><meta name=theme-color content><link href=https://fonts.gstatic.com rel=preconnect crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style><link rel=stylesheet href=../css/extra.css></head> <body dir=ltr data-md-color-scheme=emacs data-md-color-primary=emacs data-md-color-accent=emacs> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#contributing class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid" aria-label=Header> <a href=https://hubisan.github.io/emacs-template-package/ title="Package name" class="md-header-nav__button md-logo" aria-label="Package name"> <img src=../img/logo.svg alt=logo> </a> <label class="md-header-nav__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header-nav__title data-md-component=header-title> <div class=md-header-nav__ellipsis> <span class="md-header-nav__topic md-ellipsis"> Package name </span> <span class="md-header-nav__topic md-ellipsis"> Contributing </span> </div> </div> <label class="md-header-nav__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query data-md-state=active> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <button type=reset class="md-search__icon md-icon" aria-label=Clear data-md-component=search-reset tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header-nav__source> <a href=https://github.com/hubisan/emacs-template-package title="Go to repository" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=https://hubisan.github.io/emacs-template-package/ title="Package name" class="md-nav__button md-logo" aria-label="Package name"> <img src=../img/logo.svg alt=logo> </a> Package name </label> <div class=md-nav__source> <a href=https://github.com/hubisan/emacs-template-package title="Go to repository" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. class=md-nav__link> Home </a> </li> <li class=md-nav__item> <a href=../installation/ class=md-nav__link> Installation </a> </li> <li class=md-nav__item> <a href=../usage/ class=md-nav__link> Usage </a> </li> <li class=md-nav__item> <a href=../changelog/ class=md-nav__link> Changelog </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Contributing <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Contributing </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#bugs-improvements-and-new-features class=md-nav__link> Bugs, Improvements and new Features </a> </li> <li class=md-nav__item> <a href=#pull-requests class=md-nav__link> Pull Requests </a> <nav class=md-nav aria-label="Pull Requests"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#testing class=md-nav__link> Testing </a> <nav class=md-nav aria-label=Testing> <ul class=md-nav__list> <li class=md-nav__item> <a href=#lint-run-tests class=md-nav__link> Lint &amp; run tests </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#documentation class=md-nav__link> Documentation </a> <nav class=md-nav aria-label=Documentation> <ul class=md-nav__list> <li class=md-nav__item> <a href=#files class=md-nav__link> Files </a> </li> <li class=md-nav__item> <a href=#building-the-documentation class=md-nav__link> Building the Documentation </a> </li> <li class=md-nav__item> <a href=#taking-svg-screenshots class=md-nav__link> Taking Svg-Screenshots </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#bugs-improvements-and-new-features class=md-nav__link> Bugs, Improvements and new Features </a> </li> <li class=md-nav__item> <a href=#pull-requests class=md-nav__link> Pull Requests </a> <nav class=md-nav aria-label="Pull Requests"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#testing class=md-nav__link> Testing </a> <nav class=md-nav aria-label=Testing> <ul class=md-nav__list> <li class=md-nav__item> <a href=#lint-run-tests class=md-nav__link> Lint &amp; run tests </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#documentation class=md-nav__link> Documentation </a> <nav class=md-nav aria-label=Documentation> <ul class=md-nav__list> <li class=md-nav__item> <a href=#files class=md-nav__link> Files </a> </li> <li class=md-nav__item> <a href=#building-the-documentation class=md-nav__link> Building the Documentation </a> </li> <li class=md-nav__item> <a href=#taking-svg-screenshots class=md-nav__link> Taking Svg-Screenshots </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <h1 id=contributing>Contributing<a class=headerlink href=#contributing title="Permanent link">&para;</a></h1> <h2 id=bugs-improvements-and-new-features>Bugs, Improvements and new Features<a class=headerlink href=#bugs-improvements-and-new-features title="Permanent link">&para;</a></h2> <p>Go to <a href=https://github.com/hubisan/emacs-template-package/issues>Issues</a> and make a new issue.</p> <p>Make sure to:</p> <ul> <li>Check that the issue has not already been reported (open and closed ones).</li> <li>Check that the issue is not part of an active pull request.</li> </ul> <h2 id=pull-requests>Pull Requests<a class=headerlink href=#pull-requests title="Permanent link">&para;</a></h2> <p>Cool that you want to contribute your code :-)</p> <p>Remember to:</p> <ul> <li>Include only one feature in a pull request.</li> <li>Open an issue and mention/reference your planned pull request.</li> <li>Add/update tests if needed.</li> <li>The tests must pass (see <a href=#testing>Testing</a>).</li> <li>Update <a href=https://github.com/hubisan/emacs-template-package/blob/master/README.org>README.org</a> if needed.</li> <li>Update the documentation if needed (see <a href=#documentation>Documentation</a>)</li> <li>Update <a href=https://github.com/hubisan/emacs-template-package/blob/master/CHANGELOG.org>CHANGELOG.org</a>.</li> </ul> <h3 id=testing>Testing<a class=headerlink href=#testing title="Permanent link">&para;</a></h3> <p>Uses <a href=https://github.com/alphapapa/makem.sh>makem.sh</a> for linting and running the tests. The tests are written with <a href=https://github.com/jorgenschaefer/emacs-buttercup>buttercup</a>. After pushing a GitHub action is triggered to automatically lint and run tests. The outcome can be seen on the <a href=https://github.com/hubisan/emacs-template-package/actions>Actions</a> page.</p> <h4 id=lint-run-tests>Lint &amp; run tests<a class=headerlink href=#lint-run-tests title="Permanent link">&para;</a></h4> <p>To lint the package and run the tests locally from the command line you can use the Makefile targets or call makem.sh directly. To run Emacs with an empty configuration and not use your local emacs configuration it is best to use the sandbox mechanism provided by makem.sh.</p> <p>For convenience there are some additional make targets for linting and testing. Make sure to build the sandbox before running the tests and to rebuild it if the dependencies or the emacs version have changed. The main targets are:</p> <table> <thead> <tr> <th align=left>Target</th> <th align=left>Description</th> </tr> </thead> <tbody> <tr> <td align=left>sandbox-build</td> <td align=left>Creates the sandbox directory and installs the dependencies and linters in the sandbox.</td> </tr> <tr> <td align=left>sandbox-clean</td> <td align=left>Removes the sandbox directory.</td> </tr> <tr> <td align=left>sandbox-rebuild</td> <td align=left>Runs <code>sandbox-clean</code> and then <code>sandbox-build</code>.</td> </tr> <tr> <td align=left>sandbox-all</td> <td align=left>Run the tests and lint the package in the sandbox.</td> </tr> <tr> <td align=left>sandbox-lint</td> <td align=left>Lint in the sandbox.</td> </tr> <tr> <td align=left>sandbox-test</td> <td align=left>Run the tests in the sandbox.</td> </tr> <tr> <td align=left>sandbox-interactive</td> <td align=left>Load the packages in the sandbox and launch Emacs (GUI).</td> </tr> </tbody> </table> <p>There are additional targets for linting to be able to call the linters separately (those linters except <code>elsa</code> are all run with <code>sandbox-lint</code>):</p> <table> <thead> <tr> <th align=left>Target</th> <th align=left>Description</th> </tr> </thead> <tbody> <tr> <td align=left>sandbox-lint-checkdoc</td> <td align=left>Run checkdoc. Checks for style errors.</td> </tr> <tr> <td align=left>sandbox-lint-compile</td> <td align=left>Byte-compile source files with warnings as errors.</td> </tr> <tr> <td align=left>sandbox-lint-declare</td> <td align=left>Run check-declare.</td> </tr> <tr> <td align=left>sandbox-lint-elsa</td> <td align=left>Run Elsa (not included in &ldquo;lint&rdquo; rule).</td> </tr> <tr> <td align=left>sandbox-lint-indent</td> <td align=left>Lint indentation.</td> </tr> <tr> <td align=left>sandbox-lint-package</td> <td align=left>Run package-lint, a linting library for elisp package metadata</td> </tr> <tr> <td align=left>sandbox-lint-regexps</td> <td align=left>Relint scans elisp files for mistakes in regexps.</td> </tr> </tbody> </table> <p>To increase the verbosity add <code>v=v</code> or <code>v=vv</code> before or after the target like <code>make v=vv sandbox-all</code>.</p> <h3 id=documentation>Documentation<a class=headerlink href=#documentation title="Permanent link">&para;</a></h3> <p>The files to build the documentation are stored in the <a href=https://github.com/hubisan/emacs-template-package/blob/master/docs>docs</a> folder. The settings for the documentation can be found in <a href=https://github.com/hubisan/emacs-template-package/blob/master/mkdocs.yml>mkdocs.yml</a>.</p> <h4 id=files>Files<a class=headerlink href=#files title="Permanent link">&para;</a></h4> <p>The documentation has the following files:</p> <table> <thead> <tr> <th align=left>File</th> <th align=left>Content</th> </tr> </thead> <tbody> <tr> <td align=left>index.md</td> <td align=left>The homepage of the package describe its purpose and includes a description of the main features.</td> </tr> <tr> <td align=left>installation.md</td> <td align=left>Instructions on how to install the package.</td> </tr> <tr> <td align=left>usage.md</td> <td align=left>Description on how to use the package including customization (variables and faces) and key bindings.</td> </tr> <tr> <td align=left>changelog.md</td> <td align=left>The changelog of the package.</td> </tr> <tr> <td align=left>contributing.md</td> <td align=left>The guidelines for contributing.</td> </tr> </tbody> </table> <h4 id=building-the-documentation>Building the Documentation<a class=headerlink href=#building-the-documentation title="Permanent link">&para;</a></h4> <p>The documentation is automatically built and pushed to the <code>gh-pages</code> branch with <a href=https://squidfunk.github.io/mkdocs-material/ >mkdocs-material</a> and a GitHub Action when the master branch is updated.</p> <p>To preview the documentation locally install the dependencies:</p> <div class=highlight><pre><span></span><code>pip3 install mkdocs-material
pip3 install mkdocs-minify-plugin
pip3 install mkdocs-git-revision-date-localized-plugin
</code></pre></div> <p>Then run a local server with <code>mkdocs serve</code> at <a href=http://localhost:8000/ >http://localhost:8000/</a>. The documentation will be built and live reloading is started. Upon any changes the documentation is automatically rebuilt and the page is reloaded.</p> <h4 id=taking-svg-screenshots>Taking Svg-Screenshots<a class=headerlink href=#taking-svg-screenshots title="Permanent link">&para;</a></h4> <p>If you have build Emacs with Cairo support (check variable <code>system-configuration-features</code>) you can take vector screenshots of your Emacs to use for the documentation. The Cairo flag is not on by default when building from source.</p> <div class=highlight><pre><span></span><code><span class=p>(</span><span class=nb>defun</span> <span class=nv>my-emacs-screenshot-svg</span> <span class=p>()</span>
    <span class=s>&quot;Save a screenshot of the current frame as an SVG image.</span>
<span class=s>  Saves to a temp file and puts the filename in the kill ring.&quot;</span>
    <span class=p>(</span><span class=k>interactive</span><span class=p>)</span>
    <span class=p>(</span><span class=k>let*</span> <span class=p>((</span><span class=nv>filename</span> <span class=p>(</span><span class=nv>make-temp-file</span> <span class=s>&quot;emacs-screenshot&quot;</span> <span class=no>nil</span> <span class=s>&quot;.svg&quot;</span><span class=p>))</span>
           <span class=p>(</span><span class=nv>data</span> <span class=p>(</span><span class=nv>x-export-frames</span> <span class=no>nil</span> <span class=ss>&#39;svg</span><span class=p>)))</span>
      <span class=p>(</span><span class=nb>with-temp-file</span> <span class=nv>filename</span>
        <span class=p>(</span><span class=nf>insert</span> <span class=nv>data</span><span class=p>))</span>
      <span class=p>(</span><span class=nv>kill-new</span> <span class=nv>filename</span><span class=p>)</span>
      <span class=p>(</span><span class=nf>message</span> <span class=nv>filename</span><span class=p>)))</span>
</code></pre></div> <hr> <div class=md-source-date> <small> Last update: <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">October 6, 2020</span> </small> </div> </article> </div> </div> </main> <footer class=md-footer> <div class=md-footer-nav> <nav class="md-footer-nav__inner md-grid" aria-label=Footer> <a href=../changelog/ class="md-footer-nav__link md-footer-nav__link--prev" rel=prev> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </div> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Previous </span> Changelog </div> </div> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Copyright &copy; 20xx - 20xx John Doe </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <script src=../assets/javascripts/vendor.77e55a48.min.js></script> <script src=../assets/javascripts/bundle.9554a270.min.js></script><script id=__lang type=application/json>{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script> <script>
        app = initialize({
          base: "..",
          features: [],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.4ac00218.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script> <script src=../js/extra.js></script> </body> </html>